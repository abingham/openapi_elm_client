-- JSON encoders

{% for type_def in typedefs.values() %}

{{ type_def | json_encoder }} : Json.Encode.Encoder {{ type_def | alias_name }}
{{ type_def | json_encoder }} obj =
    Json.Encode.object [
{% for property_def in type_def.properties.values() %}
{% if property_def.required %}
    ("{{ property_def.name }}", {{ property_def.typedef | json_encoder }} obj.{{ property_def.name | camel_case }})
{% else %}
{% endif %}
{% endfor %}
    ]

{% endfor %}

